"use strict";(globalThis.webpackChunkcrpe_2026=globalThis.webpackChunkcrpe_2026||[]).push([[216],{515(e,r,o){o.d(r,{S:()=>i,b:()=>t});const t={HOME:"/LamaitresseLoutre/",LOGIN:"/LamaitresseLoutre/login",PROFIL:"/LamaitresseLoutre/profil",SUIVI:"/LamaitresseLoutre/suivi",COMMENTAIRES:"/LamaitresseLoutre/commentaires"};function i(e){window.location.href=e}},7981(e,r,o){o.r(r),o.d(r,{default:()=>c});var t=o(6540),i=o(1656),n=o(5122),a=o(5421),d=o(5920),l=o(515),s=o(4848);function c(){const[e,r]=(0,t.useState)(""),[o,c]=(0,t.useState)(""),[m,u]=(0,t.useState)(""),[p,x]=(0,t.useState)(""),[g,h]=(0,t.useState)(!1),[b,f]=(0,t.useState)("login"),{user:y}=(0,d.A)();(0,t.useEffect)(()=>{y&&(0,l.S)(l.b.HOME)},[y]);const j=async()=>{try{await(0,n.CI)(a.j),(0,l.S)(l.b.LOGIN)}catch(e){console.error("Erreur d\xe9connexion:",e)}};return y?(0,s.jsx)(i.A,{title:"Connexion",description:"Espace de connexion",children:(0,s.jsx)("div",{style:{maxWidth:"500px",margin:"4rem auto",padding:"0 2rem"},children:(0,s.jsxs)("div",{style:{backgroundColor:"white",padding:"3rem",borderRadius:"16px",boxShadow:"0 4px 12px rgba(255, 182, 185, 0.15)",textAlign:"center"},children:[(0,s.jsx)("h1",{style:{color:"#ff9a9e",marginBottom:"2rem"},children:"\ud83e\udda6 Connect\xe9e !"}),(0,s.jsxs)("p",{style:{fontSize:"1.1rem",marginBottom:"2rem"},children:["Tu es connect\xe9e en tant que : ",(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:y.email})]}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",alignItems:"center"},children:[(0,s.jsx)("a",{href:"/LamaitresseLoutre/",style:{padding:"0.75rem 2rem",backgroundColor:"#ff9a9e",color:"white",textDecoration:"none",border:"none",borderRadius:"20px",fontWeight:"600",fontSize:"1rem",display:"inline-block"},children:"\ud83c\udfe0 Retour \xe0 l'accueil"}),(0,s.jsx)("button",{onClick:j,style:{padding:"0.75rem 2rem",backgroundColor:"#ff6b6b",color:"white",border:"none",borderRadius:"20px",fontWeight:"600",cursor:"pointer",fontSize:"1rem"},children:"\ud83d\udeaa Se d\xe9connecter"})]})]})})}):(0,s.jsx)(i.A,{title:"Connexion",description:"Espace de connexion",children:(0,s.jsx)("div",{style:{maxWidth:"500px",margin:"4rem auto",padding:"0 2rem"},children:(0,s.jsxs)("div",{style:{backgroundColor:"white",padding:"3rem",borderRadius:"16px",boxShadow:"0 4px 12px rgba(255, 182, 185, 0.15)"},children:[(0,s.jsxs)("h1",{style:{color:"#ff9a9e",textAlign:"center",marginBottom:"2rem"},children:["\ud83e\udda6 ","login"===b?"Connexion":"Cr\xe9er un compte"]}),(0,s.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),x(""),h(!0);try{if("login"===b)await(0,n.x9)(a.j,e,o);else{if("CRPE2026"!==m)return x("Code d'invitation incorrect"),void h(!1);await(0,n.eJ)(a.j,e,o)}}catch(t){console.error("Erreur:",t),"auth/invalid-credential"===t.code?x("Email ou mot de passe incorrect"):"auth/email-already-in-use"===t.code?x("Cet email est d\xe9j\xe0 utilis\xe9"):"auth/weak-password"===t.code?x("Le mot de passe doit contenir au moins 6 caract\xe8res"):"auth/invalid-email"===t.code?x("Email invalide"):x("Une erreur est survenue. R\xe9essayez.")}finally{h(!1)}},children:[(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#4a4a4a"},children:"Email"}),(0,s.jsx)("input",{type:"email",value:e,onChange:e=>r(e.target.value),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"2px solid #ffe5e6",fontSize:"1rem",boxSizing:"border-box"}})]}),(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#4a4a4a"},children:"Mot de passe"}),(0,s.jsx)("input",{type:"password",value:o,onChange:e=>c(e.target.value),required:!0,minLength:6,style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"2px solid #ffe5e6",fontSize:"1rem",boxSizing:"border-box"}}),"signup"===b&&(0,s.jsx)("small",{style:{color:"#666",fontSize:"0.85rem"},children:"Minimum 6 caract\xe8res"})]}),"signup"===b&&(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#4a4a4a"},children:"Code d'invitation \ud83d\udd11"}),(0,s.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),required:!0,placeholder:"Demandez le code \xe0 l'administrateur",style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"2px solid #ffd89b",fontSize:"1rem",boxSizing:"border-box",backgroundColor:"#fffdf7"}}),(0,s.jsx)("small",{style:{color:"#666",fontSize:"0.85rem",marginTop:"0.25rem",display:"block"},children:"Le code d'invitation est requis pour cr\xe9er un compte"})]}),p&&(0,s.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"#ffe5e6",color:"#ff6b6b",borderRadius:"8px",marginBottom:"1.5rem",textAlign:"center"},children:p}),(0,s.jsx)("button",{type:"submit",disabled:g,style:{width:"100%",padding:"0.75rem",backgroundColor:g?"#ccc":"#ff9a9e",color:"white",border:"none",borderRadius:"20px",fontWeight:"600",cursor:g?"not-allowed":"pointer",fontSize:"1rem",marginBottom:"1rem"},children:g?"Chargement...":"login"===b?"Se connecter":"Cr\xe9er mon compte"})]}),(0,s.jsx)("div",{style:{textAlign:"center",marginTop:"1.5rem"},children:(0,s.jsx)("button",{onClick:()=>{f("login"===b?"signup":"login"),x(""),u("")},style:{background:"none",border:"none",color:"#ff9a9e",cursor:"pointer",textDecoration:"underline",fontSize:"0.95rem"},children:"login"===b?"Pas encore de compte ? Cr\xe9er un compte":"D\xe9j\xe0 un compte ? Se connecter"})})]})})})}}}]);