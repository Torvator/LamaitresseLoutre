"use strict";(globalThis.webpackChunkcrpe_2026=globalThis.webpackChunkcrpe_2026||[]).push([[658],{2982(e,t,r){r.r(t),r.d(t,{default:()=>f});var i=r(6540),s=r(1656),n=r(8185),o=r(5421),a=r(5920),l=r(5653),d=r(4848);const c={"Fran\xe7ais":[{id:"francais-test1",nom:"Test 1",url:"/fiches/francais/test1"},{id:"francais-test2",nom:"Test 2",url:"/fiches/francais/test2"},{id:"francais-test3",nom:"Test 3",url:"/fiches/francais/test3"}],"Math\xe9matiques":[{id:"maths-test1",nom:"Test 1",url:"/fiches/mathematiques/test1"},{id:"maths-test2",nom:"Test 2",url:"/fiches/mathematiques/test2"}],Pluridisciplinaire:[{id:"pluri-test1",nom:"Test 1",url:"/fiches/pluridisciplinaire/test1"}]};function m({label:e,total:t,maitrise:r,enCours:i}){const s=t>0?r/t*100:0,n=t>0?i/t*100:0,o=100-s-n;return(0,d.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,d.jsx)("strong",{style:{fontSize:"1.1rem"},children:e}),(0,d.jsxs)("span",{style:{color:"#666"},children:[r,"/",t," ma\xeetris\xe9es"]})]}),(0,d.jsxs)("div",{style:{width:"100%",height:"30px",backgroundColor:"#f0f0f0",borderRadius:"15px",overflow:"hidden",display:"flex",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,d.jsx)("div",{style:{width:`${s}%`,backgroundColor:"#6bcf7f",transition:"width 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"0.85rem"},children:s>10&&`${Math.round(s)}%`}),(0,d.jsx)("div",{style:{width:`${n}%`,backgroundColor:"#ffd93d",transition:"width 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",color:"#4a4a4a",fontWeight:"600",fontSize:"0.85rem"},children:n>10&&`${Math.round(n)}%`}),(0,d.jsx)("div",{style:{width:`${o}%`,backgroundColor:"#ff6b6b",transition:"width 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"0.85rem"},children:o>10&&`${Math.round(o)}%`})]}),(0,d.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"0.5rem",fontSize:"0.9rem",color:"#666"},children:[(0,d.jsxs)("span",{children:["\ud83d\udfe2 ",r," Ma\xeetris\xe9es"]}),(0,d.jsxs)("span",{children:["\ud83d\udfe1 ",i," En cours"]}),(0,d.jsxs)("span",{children:["\ud83d\udd34 ",t-r-i," Non commenc\xe9es"]})]})]})}function h({fiches:e,titre:t,statut:r,couleur:i}){return 0===e.length?null:(0,d.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,d.jsxs)("h3",{style:{color:i,marginBottom:"1rem"},children:[t," (",e.length,")"]}),(0,d.jsx)("ul",{style:{listStyle:"none",padding:0},children:e.map(e=>(0,d.jsx)("li",{style:{padding:"0.75rem",marginBottom:"0.5rem",backgroundColor:"#fff9f0",borderRadius:"8px",borderLeft:`4px solid ${i}`},children:(0,d.jsxs)("a",{href:e.url,style:{textDecoration:"none",color:"#4a4a4a",fontWeight:"500"},children:[e.matiere," \u2192 ",e.nom]})},e.id))})]})}function u(){const[e,t]=(0,i.useState)({}),[r,s]=(0,i.useState)(!0),{user:l}=(0,a.A)();if((0,i.useEffect)(()=>{if(!l)return void s(!1);(async()=>{try{const e={},r={maitrisees:[],enCours:[],nonCommencees:[]},i=(0,n.rJ)(o.db,"users",l.uid,"fiches"),s=await(0,n.GG)(i),a={};s.forEach(e=>{a[e.id]=e.data().statut}),Object.entries(c).forEach(([t,i])=>{const s=i.filter(e=>"MAITRISE"===a[e.id]).length,n=i.filter(e=>"EN_COURS"===a[e.id]).length;e[t]={total:i.length,maitrise:s,enCours:n},i.forEach(e=>{const i=a[e.id],s={...e,matiere:t};"MAITRISE"===i?r.maitrisees.push(s):"EN_COURS"===i?r.enCours.push(s):r.nonCommencees.push(s)})}),t({statsParMatiere:e,toutesLesFiches:r})}catch(e){console.error("Erreur chargement stats:",e)}finally{s(!1)}})()},[l]),r)return(0,d.jsx)("div",{style:{maxWidth:"1000px",margin:"4rem auto",padding:"0 2rem",textAlign:"center"},children:(0,d.jsx)("p",{style:{fontSize:"1.2rem"},children:"Chargement de ta progression..."})});const{statsParMatiere:u={},toutesLesFiches:f={}}=e,x=Object.values(c).reduce((e,t)=>e+t.length,0),g=Object.values(u).reduce((e,t)=>e+(t?.maitrise||0),0),p=Object.values(u).reduce((e,t)=>e+(t?.enCours||0),0);return(0,d.jsxs)("div",{style:{maxWidth:"1000px",margin:"2rem auto",padding:"0 2rem"},children:[(0,d.jsxs)("div",{style:{background:"linear-gradient(135deg, #ffecd2 0%, #ffcbb3 25%, #ffb6b9 50%, #ffc9cb 75%, #ffd89b 100%)",padding:"2rem",borderRadius:"16px",marginBottom:"2rem",textAlign:"center"},children:[(0,d.jsx)("h1",{style:{color:"#3d3d3d",marginBottom:"1rem"},children:"\ud83d\udcca Suivi de Progression"}),(0,d.jsx)("p",{style:{fontSize:"1.2rem",color:"#4a4a4a"},children:"Continue comme \xe7a Marie ! \ud83d\udcaa"})]}),(0,d.jsxs)("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"16px",boxShadow:"0 4px 12px rgba(255, 182, 185, 0.15)",marginBottom:"2rem"},children:[(0,d.jsx)("h2",{style:{color:"#ff9a9e",marginBottom:"2rem"},children:"\ud83c\udfaf Progression Globale"}),(0,d.jsx)(m,{label:"Toutes mati\xe8res",total:x,maitrise:g,enCours:p})]}),(0,d.jsxs)("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"16px",boxShadow:"0 4px 12px rgba(255, 182, 185, 0.15)",marginBottom:"2rem"},children:[(0,d.jsx)("h2",{style:{color:"#ff9a9e",marginBottom:"2rem"},children:"\ud83d\udcda Par Mati\xe8re"}),Object.entries(u).map(([e,t])=>(0,d.jsx)(m,{label:e,total:t.total,maitrise:t.maitrise,enCours:t.enCours},e))]}),(0,d.jsxs)("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"16px",boxShadow:"0 4px 12px rgba(255, 182, 185, 0.15)"},children:[(0,d.jsx)("h2",{style:{color:"#ff9a9e",marginBottom:"2rem"},children:"\ud83d\udcdd D\xe9tail des Fiches"}),(0,d.jsx)(h,{fiches:f.maitrisees||[],titre:"\ud83d\udfe2 Fiches Ma\xeetris\xe9es",statut:"MAITRISE",couleur:"#6bcf7f"}),(0,d.jsx)(h,{fiches:f.enCours||[],titre:"\ud83d\udfe1 Fiches En Cours",statut:"EN_COURS",couleur:"#ffd93d"}),(0,d.jsx)(h,{fiches:f.nonCommencees||[],titre:"\ud83d\udd34 Fiches Non Commenc\xe9es",statut:"NON_COMMENCE",couleur:"#ff6b6b"})]}),(0,d.jsx)("div",{style:{marginTop:"2rem",padding:"2rem",backgroundColor:"#fff9f0",borderRadius:"12px",textAlign:"center"},children:(0,d.jsxs)("p",{style:{fontSize:"1.2rem",color:"#4a4a4a"},children:[0===g&&"\ud83e\udda6 C'est parti ! Commence par une premi\xe8re fiche !",g>0&&g<x&&`\ud83e\udda6 Super travail ! Tu as d\xe9j\xe0 ma\xeetris\xe9 ${g} fiche${g>1?"s":""} !`,g===x&&"\ud83c\udf89 BRAVO ! Tu as ma\xeetris\xe9 toutes les fiches ! \ud83e\udda6"]})})]})}function f(){return(0,d.jsx)(l.A,{title:"Suivi de progression",description:"Suivi de ta progression CRPE",children:(0,d.jsx)(s.A,{title:"Suivi de progression",description:"Suivi de ta progression CRPE",children:(0,d.jsx)(u,{})})})}},5653(e,t,r){r.d(t,{A:()=>l});var i=r(6540),s=r(5920),n=r(1656),o=r(6347),a=r(4848);function l({children:e,title:t,description:r}){const{user:l,loading:d}=(0,s.A)(),c=(0,o.W6)();return(0,i.useEffect)(()=>{d||l||c.push("/login")},[l,d,c]),d?(0,a.jsx)(n.A,{title:t,description:r,children:(0,a.jsx)("div",{style:{maxWidth:"600px",margin:"4rem auto",padding:"0 2rem",textAlign:"center"},children:(0,a.jsx)("p",{style:{fontSize:"1.2rem",color:"#4a4a4a"},children:"Chargement..."})})}):l?e:(0,a.jsx)(n.A,{title:t,description:r,children:(0,a.jsx)("div",{style:{maxWidth:"600px",margin:"4rem auto",padding:"0 2rem",textAlign:"center"},children:(0,a.jsx)("p",{style:{fontSize:"1.2rem",color:"#4a4a4a"},children:"Redirection..."})})})}}}]);