"use strict";(globalThis.webpackChunkcrpe_2026=globalThis.webpackChunkcrpe_2026||[]).push([[658],{515(e,r,i){i.d(r,{S:()=>n,b:()=>t});const t={HOME:"/LamaitresseLoutre/",LOGIN:"/LamaitresseLoutre/login",PROFIL:"/LamaitresseLoutre/profil",SUIVI:"/LamaitresseLoutre/suivi",COMMENTAIRES:"/LamaitresseLoutre/commentaires"};function n(e){window.location.href=e}},2982(e,r,i){i.r(r),i.d(r,{default:()=>g});var t=i(6540),n=i(1656),s=i(8185),o=i(5421),a=i(5920),l=i(5653),d=i(4848);const c={"Fran\xe7ais":[{id:"francais-grammaire",nom:"Grammaire et \xe9tude de la langue",url:"/francais/grammaire"},{id:"francais-lecture",nom:"Lecture et compr\xe9hension",url:"/francais/lecture"},{id:"francais-culture-litteraire",nom:"Culture litt\xe9raire",url:"/francais/culture-litteraire"},{id:"francais-expression-ecrite",nom:"Expression \xe9crite",url:"/francais/expression-ecrite"},{id:"francais-expression-orale",nom:"Expression orale",url:"/francais/expression-orale"}]};function u({progression:e}){return(0,d.jsx)("div",{style:{marginBottom:"2rem"},children:(0,d.jsx)("div",{style:{width:"100%",backgroundColor:"#e0e0e0",borderRadius:"10px",height:"30px",position:"relative",overflow:"hidden"},children:(0,d.jsx)("div",{style:{width:`${e}%`,backgroundColor:"#4caf50",height:"100%",transition:"width 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px"},children:(0,d.jsxs)("span",{style:{color:"white",fontWeight:"bold",fontSize:"14px"},children:[Math.round(e),"%"]})})})})}function m({matiere:e,fiches:r,fichesValidees:i,onToggle:t}){return r&&0!==r.length?(0,d.jsxs)("div",{style:{marginBottom:"3rem"},children:[(0,d.jsx)("h2",{style:{borderBottom:"3px solid #2e8555",paddingBottom:"0.5rem",marginBottom:"1.5rem"},children:e}),(0,d.jsx)("div",{style:{display:"grid",gap:"1rem"},children:r.map(e=>{const r=i[e.id]||!1;return(0,d.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:r?"#e8f5e9":"#fff",transition:"all 0.2s ease"},children:[(0,d.jsx)("div",{style:{flex:1},children:(0,d.jsx)("a",{href:e.url,style:{textDecoration:"none",color:"#1976d2",fontWeight:"500",fontSize:"1.1rem"},children:e.nom})}),(0,d.jsx)("button",{onClick:()=>t(e.id),style:{padding:"0.5rem 1.5rem",borderRadius:"5px",border:"none",backgroundColor:r?"#4caf50":"#9e9e9e",color:"white",cursor:"pointer",fontWeight:"bold",transition:"all 0.2s ease"},children:r?"\u2713 Ma\xeetris\xe9e":"Non commenc\xe9e"})]},e.id)})})]}):null}function h(){const{user:e}=(0,a.A)(),[r,n]=(0,t.useState)({}),[l,h]=(0,t.useState)(!0);(0,t.useEffect)(()=>{!async function(){if(e)try{const r=(0,s.rJ)(o.db,`users/${e.uid}/fiches`),i=await(0,s.GG)(r),t={};i.forEach(e=>{t[e.id]=e.data().validee||!1}),n(t)}catch(r){console.error("Erreur chargement progression:",r)}finally{h(!1)}}()},[e]);const g=Object.values(c).flat().length,f=Object.values(r).filter(Boolean).length,x=g>0?f/g*100:0,p=async t=>{const s=!r[t];if(n(e=>({...e,[t]:s})),e)try{const{setDoc:r,doc:n}=await Promise.resolve().then(i.bind(i,8185));await r(n(o.db,`users/${e.uid}/fiches/${t}`),{validee:s,dateModification:new Date})}catch(a){console.error("Erreur sauvegarde:",a)}};return l?(0,d.jsx)("div",{style:{textAlign:"center",padding:"3rem"},children:(0,d.jsx)("p",{children:"Chargement de votre progression..."})}):(0,d.jsxs)("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"2rem"},children:[(0,d.jsx)("h1",{style:{textAlign:"center",marginBottom:"2rem"},children:"\ud83d\udcca Suivi de r\xe9visions CRPE 2026"}),(0,d.jsxs)("div",{style:{backgroundColor:"#f5f5f5",padding:"1.5rem",borderRadius:"10px",marginBottom:"3rem"},children:[(0,d.jsx)("h3",{style:{marginTop:0},children:"Progression globale"}),(0,d.jsx)(u,{progression:x}),(0,d.jsxs)("p",{style:{textAlign:"center",margin:0,color:"#666"},children:[f," / ",g," fiches ma\xeetris\xe9es"]})]}),Object.entries(c).map(([e,i])=>(0,d.jsx)(m,{matiere:e,fiches:i,fichesValidees:r,onToggle:p},e)),(0,d.jsx)("div",{style:{marginTop:"3rem",padding:"1.5rem",backgroundColor:"#e3f2fd",borderRadius:"8px",textAlign:"center"},children:(0,d.jsx)("p",{style:{margin:0,color:"#1976d2",fontWeight:"500"},children:"\ud83d\ude80 D'autres mati\xe8res arrivent bient\xf4t : Math\xe9matiques, Anglais, Histoire-G\xe9o, Sciences, Arts, EPS !"})})]})}function g(){return(0,d.jsx)(n.A,{title:"Suivi des r\xe9visions",description:"Suivez votre progression",children:(0,d.jsx)(l.A,{children:(0,d.jsx)(h,{})})})}},5653(e,r,i){i.d(r,{A:()=>l});var t=i(6540),n=i(5920),s=i(515),o=i(1656),a=i(4848);function l({children:e,title:r,description:i}){const{user:l,loading:d}=(0,n.A)();return(0,t.useEffect)(()=>{d||l||(0,s.S)(s.b.LOGIN)},[l,d]),d?(0,a.jsx)(o.A,{title:r,description:i,children:(0,a.jsx)("div",{style:{maxWidth:"600px",margin:"4rem auto",padding:"0 2rem",textAlign:"center"},children:(0,a.jsx)("p",{style:{fontSize:"1.2rem",color:"#4a4a4a"},children:"Chargement..."})})}):l?e:(0,a.jsx)(o.A,{title:r,description:i,children:(0,a.jsx)("div",{style:{maxWidth:"600px",margin:"4rem auto",padding:"0 2rem",textAlign:"center"},children:(0,a.jsx)("p",{style:{fontSize:"1.2rem",color:"#4a4a4a"},children:"Redirection vers la connexion..."})})})}}}]);